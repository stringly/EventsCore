@{
    ViewData["Title"] = "Home Page";
}

    <ul class="nav nav-tabs">
        <li class="nav-item">
            <a class="nav-link active" data-toggle="tab" href="#myactivity">Your Activity</a>
        </li>
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">Events</a>
            <div class="dropdown-menu">
                <a class="dropdown-item" data-toggle="tab" href="#list">List</a>
                <a class="dropdown-item" data-toggle="tab" href="#calendar">Calendar</a>
            </div>
        </li>
        <li class="nav-item">
            <a class="nav-link disabled" href="#">Disabled</a>
        </li>
    </ul>
    <div class="tab-content">
        <div class="tab-pane active" id="myactivity">
            <div class="card mt-3">
                <div class="card-header">
                    Active Registrations
                </div>
                <div class="card-body">
                    <blockquote class="blockquote mb-0">
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer posuere erat a ante.</p>
                        <footer class="blockquote-footer">Someone famous in <cite title="Source Title">Source Title</cite></footer>
                    </blockquote>
                </div>
            </div>
            <div class="card mt-3">
                <div class="card-header">
                    My Events
                </div>
                <div class="card-body">
                    <blockquote class="blockquote mb-0">
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer posuere erat a ante.</p>
                        <footer class="blockquote-footer">Someone famous in <cite title="Source Title">Source Title</cite></footer>
                    </blockquote>
                </div>
            </div>
        </div>
        <div class="tab-pane fade" id="list">
            <div id="upcomingEventsContainer">
                 
            </div>
        </div>
        <div class="tab-pane fade" id="calendar">
            <div>
                <h2>Event Calendar</h2>
            </div>
        </div>
    </div>
    @section scripts{ 
        <script type="text/javascript">
            $(document).ready(function () {
                refreshUpcomingEvents();
            })

            function refreshUpcomingEvents() {
                $.get("/Home/GetUpcomingEvents", function (data) {
                    $("#upcomingEventsContainer").html(data);                    
                    document.getElementById("refreshUpcomingEventsButton").addEventListener("click", refreshUpcomingEvents);
                })              
                
            }
        </script>
    }